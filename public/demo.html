<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Reenie+Beanie">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <style type="text/css">
      .preloadFont {
        font-family: 'Reenie Beanie', arial, sans-serif;
        font-size: 0;
        position: absolute;
        visibility: hidden;
      }
    </style>

    <title>Demo Page | Chanakya</title>

    <script type="text/javascript">
      function build() {
        window.buildApp();
      }
      function reset() {
        window.resetApp();
      }
      function record() {
        window.recordApp();
      }
      function replay() {
        window.replayApp();
      }
      function recordModal() {
        const instance = M.Modal.getInstance($('#rec-modal-tip'));
        instance.open();
      }
    </script>
  </head>
  <body>
    <!--
    <div class="container">
    </div>
    -->

    <div class="row">
      <div class="col s12" style="min-height: 2vh"></div>

      <div class="col s12 m7">
        <div style="min-height: 70vh">
          <div class="preloadFont">.</div>
          <div style="margin-top: -5px"><span class="grey-text" style="font-size: 90%;">Video Expo</span></div>

          <canvas id="webCanvas" width="700" height="400" style="border: 1px solid teal; cursor: pointer;"></canvas>
          <!-- <canvas id="webCanvas" width="700" height="400" style="border: 1px solid teal; cursor: url(images/pencil_16x16.png) 0 16,pointer;"></canvas> -->
          <!-- <canvas id="webCanvas" style="border: 1px solid teal; width: 100%; height: 70vh"></canvas> -->
        </div>

        <div style="min-height: 2vh">
        </div>
        <div class="card-panel grey lighten-5 z-depth-1" style="min-height: 18vh">
          <div class="left">
            <a class="waves-effect waves-light btn" id="record" onclick="recordModal()">Record</a>
            <a class="waves-effect waves-light btn" id="replay" onclick="replay()">Play</a>
            <audio id="playback">
              <source src="narration.mp3" type="audio/mpeg">
              Audio unsupported by browser.
            </audio>
          </div>

          <div class="right">
            <a class="waves-effect waves-light btn right-align blue" id="build" onclick="build()">Save</a>
            <a class="waves-effect waves-light btn right-align red" id="reset" onclick="reset()">Reset</a>
          </div>
        </div>
      </div>

      <div class="col s12 m5">
        <div class="z-depth-1 input-field">
          <label for="textarea-slide">Slide Text</label>
          <textarea id="textarea-slide" class="materialize-textarea" style="height: 25vh; padding: 5px 10px">
            Loading...
          </textarea>
        </div>
        <div style="min-height: 2vh"></div>
        <div class="z-depth-1 input-field">
          <label for="textarea-narration">Narration Text</label>
          <textarea id="textarea-narration" class="materialize-textarea" style="height: 55vh; padding: 5px 10px">
            Loading...
          </textarea>
        </div>
      </div>
    </div>

    <div id="rec-modal-tip" class="modal" style="width: 370px">
      <div class="modal-content">
        <h5>Tip</h5>
        <p>While recording, you can annotate Video Expo using mouse/pen.</p>
      </div>
      <div class="modal-footer">
        <div style="display: flex; justify-content: center;">
          <a class="modal-close waves-effect waves-light btn green" onClick="record()">Got It!</a>
        </div>
      </div>
    </div>

    <div id="msg-modal-alert" class="modal" style="width: 370px">
      <div class="modal-content">
        <h5>Alert</h5>
        <p id="msg-modal-text"></p>
      </div>
      <div class="modal-footer">
        <div style="display: flex; justify-content: center;">
          <a class="modal-close waves-effect waves-light btn green">OK</a>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!-- <div id="app"></div> -->
    <script src="./bundle.js"></script>

    <script type="text/javascript">
      $(document).ready(function() {
        M.AutoInit();
        document.fonts.ready.then(function() {
          window.initApp();
        });
      });
    </script>

  </body>
</html>
